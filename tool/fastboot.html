<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fastboot & Partition Command Generator</title>
<style>
body { font-family: 'Roboto', sans-serif; background: #121212; color: #eee; margin:0; }
header { background: #FF3D00; padding: 1rem; text-align: center; font-size: 1.5rem; font-weight: bold; }
.container { display: flex; flex-wrap: wrap; padding: 1rem; gap: 1rem; }
.panel { background: #1E1E1E; padding: 1rem; border-radius: 8px; flex:1 1 300px; }
input, select, textarea, button { width: 100%; margin: 0.3rem 0; padding: 0.5rem; border-radius: 4px; border: none; font-size: 1rem; }
button { background: #FF5722; color: #fff; cursor: pointer; transition: 0.2s; }
button:hover { background: #FF784E; }
textarea { height: 120px; background: #2A2A2A; color:#fff; }
h2 { margin-top:0; }
.copyBtn { margin-top:0.5rem; }
</style>
</head>
<body>
<header>Fastboot & Partition Command Generator</header>
<div class="container">

<!-- Device Info Panel -->
<div class="panel">
<h2>Device</h2>
<label>Device Serial:</label>
<input type="text" id="deviceSerial" placeholder="e.g., 0123456789ABCDEF">
</div>

<!-- Flash Image Panel -->
<div class="panel">
<h2>Flash Image</h2>
<label>Partition:</label>
<input type="text" id="flashPartition" placeholder="boot, recovery, userdata, custom">
<label>Image File:</label>
<input type="text" id="flashImage" placeholder="e.g., boot.img">
<button onclick="generateFlash()">Generate Flash Command</button>
<textarea id="flashOutput" readonly></textarea>
<button class="copyBtn" onclick="copyText('flashOutput')">Copy</button>
</div>

<!-- Wipe Partition Panel -->
<div class="panel">
<h2>Wipe Partition</h2>
<label>Partition:</label>
<input type="text" id="wipePartition" placeholder="userdata, cache, custom">
<button onclick="generateWipe()">Generate Wipe Command</button>
<textarea id="wipeOutput" readonly></textarea>
<button class="copyBtn" onclick="copyText('wipeOutput')">Copy</button>
</div>

<!-- Reboot Panel -->
<div class="panel">
<h2>Reboot Device</h2>
<select id="rebootMode">
<option value="reboot">System</option>
<option value="bootloader">Bootloader</option>
<option value="recovery">Recovery</option>
</select>
<button onclick="generateReboot()">Generate Reboot Command</button>
<textarea id="rebootOutput" readonly></textarea>
<button class="copyBtn" onclick="copyText('rebootOutput')">Copy</button>
</div>

<!-- Partition Manager Panel -->
<div class="panel">
<h2>Partition Manager</h2>
<label>Action:</label>
<select id="partitionAction">
<option value="create">Create Partition</option>
<option value="delete">Delete Partition</option>
<option value="format">Format Partition</option>
</select>
<label>Partition ID / Name:</label>
<input type="text" id="partitionID" placeholder="e.g., mmcblk0p88">
<label>Size (MB, only for Create):</label>
<input type="number" id="partitionSize" placeholder="e.g., 2700">
<label>File System:</label>
<select id="partitionFS">
<option value="ext4">ext4</option>
<option value="f2fs">f2fs</option>
</select>
<button onclick="generatePartition()">Generate Command</button>
<textarea id="partitionOutput" readonly></textarea>
<button class="copyBtn" onclick="copyText('partitionOutput')">Copy</button>
</div>

<!-- Advanced Command Panel -->
<div class="panel">
<h2>Advanced Command</h2>
<textarea id="customCommand" placeholder="Enter custom fastboot command here"></textarea>
<button onclick="generateCustom()">Generate</button>
<textarea id="customOutput" readonly></textarea>
<button class="copyBtn" onclick="copyText('customOutput')">Copy</button>
</div>

</div>
<script>
function getDevice(){ return document.getElementById('deviceSerial').value.trim() || '[DEVICE_SERIAL]'; }

function generateFlash(){
  let cmd = `fastboot -s ${getDevice()} flash ${document.getElementById('flashPartition').value.trim()} ${document.getElementById('flashImage').value.trim()}`;
  document.getElementById('flashOutput').value = cmd;
}

function generateWipe(){
  let cmd = `fastboot -s ${getDevice()} erase ${document.getElementById('wipePartition').value.trim()}`;
  document.getElementById('wipeOutput').value = cmd;
}

function generateReboot(){
  let mode = document.getElementById('rebootMode').value;
  let cmd = `fastboot -s ${getDevice()} ${mode}`;
  document.getElementById('rebootOutput').value = cmd;
}

function generatePartition(){
  let action = document.getElementById('partitionAction').value;
  let part = document.getElementById('partitionID').value.trim();
  let size = document.getElementById('partitionSize').value;
  let fs = document.getElementById('partitionFS').value;
  let cmd = '';
  if(action==='create'){
    cmd = `dd if=/dev/zero of=/dev/block/${part} bs=1M count=${size}\nmke2fs -t ${fs} /dev/block/${part}`;
  }else if(action==='delete'){
    cmd = `fastboot -s ${getDevice()} erase ${part}  # Delete partition data`;
  }else if(action==='format'){
    cmd = `mke2fs -t ${fs} /dev/block/${part}`;
  }
  document.getElementById('partitionOutput').value = cmd;
}

function generateCustom(){
  document.getElementById('customOutput').value = document.getElementById('customCommand').value.trim();
}

function copyText(id){
  let txt = document.getElementById(id);
  txt.select();
  document.execCommand("copy");
}
</script>
</body>
</html>
